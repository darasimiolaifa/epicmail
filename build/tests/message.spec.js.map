{"version":3,"sources":["../../src/tests/message.spec.js"],"names":["chai","use","chaiHttp","should","accessToken","userId","describe","beforeEach","request","app","post","send","firstName","lastName","username","password","end","res","err","data","token","user","id","afterEach","delete","console","log","it","get","set","body","have","status","property","be","an","lengthOf","forEach","mail","satisfy","message","error","a","include","url","snederId","subject","emptyValues"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport app from '../server';\r\n\r\nchai.use(chaiHttp);\r\nchai.should();\r\n\r\nlet accessToken;\r\nlet userId;\r\n\r\ndescribe('Messages API', () => {\r\n  beforeEach(() => {\r\n    chai.request(app)\r\n      .post('/api/v1/auth/signup')\r\n      .send({\r\n        firstName: 'Darasimi',\r\n        lastName: 'Olaifa',\r\n        username: 'darash86',\r\n        password: 'holiness86',\r\n      })\r\n      .end((res, err) => {\r\n        const { data } = res;\r\n        accessToken = data.token;\r\n        userId = data.user.id;\r\n      });\r\n  });\r\n  afterEach(() => {\r\n    chai.request(app)\r\n      .delete(`/api/v1/users/${userId}`)\r\n      .end((res, err) => {\r\n        if (err) console.log(err);\r\n        else console.log(res);\r\n      });\r\n  });\r\n  describe('GET /api/v1/messages', () => {\r\n    it('should get all the received messages for the requester', () => {\r\n      chai.request(app)\r\n        .get('/api/v1/messages')\r\n        .set('Accepts', 'application/json')\r\n        .set('x-access-token', accessToken)\r\n        .end((err, res) => {\r\n          const { data } = res.body;\r\n          res.should.have.status(200);\r\n          res.body.should.have.property('status', 200);\r\n          res.body.should.have.property('data');\r\n          data.should.be.an('array');\r\n          data.should.have.lengthOf(5);\r\n          data.forEach((mail) => {\r\n            mail.should.satisfy(message => message.status === 'unread' || message.status === 'read');\r\n          });\r\n        });\r\n    });\r\n  });\r\n  \r\n  describe('GET /api/v1/messages/unread', () => {\r\n    it('should get all the unread received messages for the requester', () => {\r\n      chai.request(app)\r\n        .get('/api/v1/messages/unread')\r\n        .set('Accepts', 'application/json')\r\n        .end((err, res) => {\r\n          const { data } = res.body;\r\n          res.should.have.status(200);\r\n          res.body.should.have.property('status', 200);\r\n          res.body.should.have.property('data');\r\n          data.should.be.an('array');\r\n          data.should.have.lengthOf(3);\r\n          data.forEach((mail) => {\r\n            mail.should.satisfy(message => message.status === 'unread');\r\n          });\r\n        });\r\n    });\r\n  });\r\n  \r\n  describe('GET /api/v1/messages/sent', () => {\r\n    it('should get all the sent messages for the requester', () => {\r\n      chai.request(app)\r\n        .get('/api/v1/messages/sent')\r\n        .set('Accepts', 'application/json')\r\n        .end((err, res) => {\r\n          const { data } = res.body;\r\n          res.should.have.status(200);\r\n          res.body.should.have.property('status', 200);\r\n          res.body.should.have.property('data');\r\n          data.should.be.an('array');\r\n          data.should.have.lengthOf(3);\r\n          data.forEach((mail) => {\r\n            mail.should.satisfy(message => message.status === 'sent');\r\n          });\r\n        });\r\n    });\r\n  });\r\n  describe('GET /api/v1/messages/:id', () => {\r\n    it('should return a 404 error if id does not match any message record in the database', () => {\r\n      chai.request(app)\r\n        .get('/api/v1/messages/11')\r\n        .set('Accepts', 'application/json')\r\n        .end((err, res) => {\r\n          const { error } = res.body;\r\n          res.should.have.status(404);\r\n          res.body.should.have.property('status', 404);\r\n          res.body.should.have.property('error');\r\n          error.should.be.a('string');\r\n          error.should.include('Message');\r\n        });\r\n    });\r\n    it('should get a specific message for the requester', () => {\r\n      chai.request(app)\r\n        .get('/api/v1/messages/1')\r\n        .set('Accepts', 'application/json')\r\n        .end((err, res) => {\r\n          const { data } = res.body;\r\n          res.should.have.status(200);\r\n          res.body.should.have.property('status', 200);\r\n          res.body.should.have.property('data');\r\n          data.should.be.an('object');\r\n          data.should.satisfy(message => message.id === 1);\r\n        });\r\n    });\r\n  });\r\n  describe('DELETE /api/v1/messages/:id', () => {\r\n    it('should return a 404 error if id does not match any message record in the database', () => {\r\n      chai.request(app)\r\n        .delete('/api/v1/messages/11')\r\n        .set('Accepts', 'application/json')\r\n        .end((err, res) => {\r\n          const { error } = res.body;\r\n          res.should.have.status(404);\r\n          res.body.should.have.property('status', 404);\r\n          res.body.should.have.property('error');\r\n          error.should.be.a('string');\r\n          error.should.include('Message');\r\n        });\r\n    });\r\n    it('should delete a specific message and return the message string', () => {\r\n      chai.request(app)\r\n        .delete('/api/v1/messages/1')\r\n        .set('Accepts', 'application/json')\r\n        .end((err, res) => {\r\n          const { data } = res.body;\r\n          res.should.have.status(200);\r\n          res.body.should.have.property('status', 200);\r\n          res.body.should.have.property('data');\r\n          data.should.be.an('object');\r\n          data.should.have.a.property('message');\r\n          data.message.should.be.a('string');\r\n        });\r\n    });\r\n  });\r\n  describe('POST /api/v1/messages', () => {\r\n    let message;\r\n    let url;\r\n    beforeEach(() => {\r\n      url = '/api/v1/messages';\r\n      message = 'Fuga enim tempore non voluptas quia vitae ipsam voluptas. Et dolor adipisci dolores sunt non explicabo occaecati rerum nesciunt. Sint est asperiores sit voluptatum mollitia enim iste. Nesciunt minima sequi voluptas optio aut voluptatem. Eligendi voluptates iste eius iure commodi molestiae. Quo ex reprehenderit ipsa incidunt corporis vel in unde. Iste asperiores consequatur ex quidem omnis inventore deserunt. Eligendi officiis voluptatem. In omnis labore consequatur nisi. Excepturi doloremque nam omnis odit labore magni rerum quia. Distinctio adipisci nulla exercitationem omnis illum. Eum cum ipsam consequatur ex accusamus ipsum. Eum inventore laboriosam deleniti omnis occaecati. Culpa occaecati nemo alias et doloribus expedita. Ut quia ut nostrum ducimus occaecati veniam ut exercitationem voluptatibus. Quaerat porro error sint aut aliquid qui. Minus officiis neque dolorem animi maiores et aliquid.';\r\n    });\r\n    it('should return a 400 error for missing inputs', () => {\r\n      chai.request(app)\r\n        .post(url)\r\n        .send({\r\n          snederId: 1,\r\n          subject: '',\r\n          status: 'sent',\r\n          message,\r\n        })\r\n        .end((err, res) => {\r\n          const { error } = res.body;\r\n          res.should.have.status(400);\r\n          res.body.should.have.property('status', 400);\r\n          res.body.should.have.property('error');\r\n          error.should.have.property('missingValues');\r\n          error.emptyValues[0].should.include('subject');\r\n        });\r\n    });\r\n    it('should post a mail that has all the required fields', () => {\r\n      chai.request(app)\r\n        .post(url)\r\n        .send({\r\n          snederId: 1,\r\n          subject: 'Soluta accusamus officiis ut excepturi blanditiis libero ut.',\r\n          status: 'sent',\r\n          message,\r\n        })\r\n        .end((err, res) => {\r\n          const { data } = res.body;\r\n          res.should.have.status(200);\r\n          res.body.should.have.property('status', 200);\r\n          res.body.should.have.property('data');\r\n          data.should.be.an('object');\r\n          data.should.have.property('message');\r\n          data.message.should.be.a('object');\r\n          data.message.should.have.property('id');\r\n          data.message.id.should.be.a('number');\r\n        });\r\n    });\r\n  });\r\n});\r\n"],"file":"message.spec.js"}