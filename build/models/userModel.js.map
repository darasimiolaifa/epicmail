{"version":3,"sources":["../../src/models/userModel.js"],"names":["UserModel","users","userData","id","user","payload","username","password","salt","bcrypt","genSaltSync","hashedPassword","hashSync","email","push"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;IAEMA,S;;;AACJ,uBAAc;AAAA;;AACZ,SAAKC,KAAL,GAAaC,kBAAb;AACD;;;;kCAEa;AACZ,aAAO,KAAKD,KAAZ;AACD;;;gCAEWE,E,EAAI;AACd,UAAMC,IAAI,GAAG,yBAAW,KAAKA,IAAhB,EAAsB,IAAtB,EAA4BD,EAA5B,CAAb;AACA,aAAOC,IAAP;AACD;;;+BAEUC,O,EAAS;AAAA,UACVC,QADU,GACaD,OADb,CACVC,QADU;AAAA,UACAC,QADA,GACaF,OADb,CACAE,QADA;;AAElB,UAAMC,IAAI,GAAGC,kBAAOC,WAAP,EAAb;;AACA,UAAMC,cAAc,GAAGF,kBAAOG,QAAP,CAAgBL,QAAhB,EAA0BC,IAA1B,CAAvB;;AACA,UAAMK,KAAK,aAAMP,QAAN,kBAAX;AACA,UAAMH,EAAE,GAAG,0BAAe,KAAKF,KAApB,IAA6B,CAAxC;;AAEA,UAAMG,IAAI;AACRD,QAAAA,EAAE,EAAFA,EADQ;AAERU,QAAAA,KAAK,EAALA,KAFQ;AAGRL,QAAAA,IAAI,EAAJA;AAHQ,SAILH,OAJK;AAKRE,QAAAA,QAAQ,EAAEI;AALF,QAAV;;AAQA,WAAKV,KAAL,CAAWa,IAAX,CAAgBV,IAAhB;AACA,aAAOA,IAAP;AACD;;;;;;eAGY,IAAIJ,SAAJ,E","sourcesContent":["import bcrypt from 'bcryptjs';\nimport filterUser from '../utils/filterData';\nimport generateUserId from '../utils/idGenerator';\nimport userData from '../dummy/usersData';\n\nclass UserModel {\n  constructor() {\n    this.users = userData;\n  }\n  \n  getAllusers() {\n    return this.users;\n  }\n  \n  getUserbyId(id) {\n    const user = filterUser(this.user, 'id', id);\n    return user;\n  }\n  \n  createUser(payload) {\n    const { username, password } = payload;\n    const salt = bcrypt.genSaltSync();\n    const hashedPassword = bcrypt.hashSync(password, salt);\n    const email = `${username}@epicmail.com`;\n    const id = generateUserId(this.users) + 1;\n    \n    const user = {\n      id,\n      email,\n      salt,\n      ...payload,\n      password: hashedPassword,\n    };\n    \n    this.users.push(user);\n    return user;\n  }\n}\n\nexport default new UserModel();\n"],"file":"userModel.js"}