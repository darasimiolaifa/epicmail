{"version":3,"sources":["../../src/controllers/authControllers.js"],"names":["authControllers","req","res","userModel","createUser","body","response","name","user","token","username","getUserbyUsername"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;IAEqBA,e;;;;;;;;;;;;+CACCC,G,EAAKC,G;;;;;;;;uBACAC,mBAAUC,UAAV,CAAqBH,GAAG,CAACI,IAAzB,C;;;AAAjBC,gBAAAA,Q;;sBACFA,QAAQ,CAACC,IAAT,IAAiBD,QAAQ,CAACC,IAAT,KAAkB,O;;;;;iDAC9B,6BAAeL,GAAf,EAAoBI,QAApB,EAA8B,GAA9B,C;;;AAET;2CACeA,Q,MAARE,I;AACDC,gBAAAA,K,GAAQ,4BAAcD,IAAd,C;iDACP,6BAAeN,GAAf,EAAoB;AAAEO,kBAAAA,KAAK,EAALA,KAAF;AAASD,kBAAAA,IAAI,EAAJA;AAAT,iBAApB,EAAqC,GAArC,C;;;;;;;;;;;;;;;;;;;;;gDAGUP,G,EAAKC,G;;;;;;AACdQ,gBAAAA,Q,GAAaT,GAAG,CAACI,I,CAAjBK,Q;;uBACWP,mBAAUQ,iBAAV,CAA4BD,QAA5B,C;;;AAAbF,gBAAAA,I;AACAC,gBAAAA,K,GAAQ,4BAAcD,IAAd,C;kDACP,6BAAeN,GAAf,EAAoB;AAAEO,kBAAAA,KAAK,EAALA;AAAF,iBAApB,C","sourcesContent":["import serverResponse from '../utils/serverResponse';\r\nimport generateToken from '../utils/generateToken';\r\nimport userModel from '../models/userModel';\r\n\r\nexport default class authControllers {\r\n  static async signup(req, res) {\r\n    const response = await userModel.createUser(req.body);\r\n    if (response.name && response.name === 'error') {\r\n      return serverResponse(res, response, 500);\r\n    }\r\n    // generate token with users object\r\n    const [user] = response;\r\n    const token = generateToken(user);\r\n    return serverResponse(res, { token, user }, 201);\r\n  }\r\n  \r\n  static async login(req, res) {\r\n    const { username } = req.body;\r\n    const user = await userModel.getUserbyUsername(username);\r\n    const token = generateToken(user);\r\n    return serverResponse(res, { token });\r\n  }\r\n}\r\n"],"file":"authControllers.js"}